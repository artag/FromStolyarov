# 1.3. Теперь немного математики

## 1.3.1. Элементы комбинаторики

**Комбинаторика** - раздел математики, решающий задачи наподобие:

* сколькими способами можно...
* сколько существует различных вариантов...
* и т.п.

Комбинаторика рассматривает *конечные множества* и операции над ними:

* перестановки элементов
* отбрасывание элементов
* объедиенение элементов в группы
* сортировка элементов

### Подмножества

Пример типичной задачи из комбинаторики:

>Дано множество из n элементов. Сколько существует различных
>подмножеств этого множества?
>
>Или так: есть n элементов. Сколько комбинаций можно составить из этих элементов?

Ответ: `N = 2^n`

### Пример задачи 1

У Пети есть ящик с кубиками 4 разных цветов.
Петя строит башни высотой от 1 до 4 кубиков.
Сколько вариантов башен можно построить?

*Ответ*: 340

*Решение*:

Возьмем к примеру лампочку, которая имеет два состояния: "горит", "не горит", т.е.: `N = 2^1 = 2`

Теперь возьмем кубик, который имеет 4 цвета: `N = 4^1 = 4`

Теперь возьмем два кубика, и каждый из них имеет по 4 цвета: `N =4^2=16`

Три кубика: `N = 4^3 = 64`?, четыре кубика: `N = 4^4 = 256`

Теперь сложим кол-во вариантов для каждой высоты: 4 + 16 + 64 + 256 = 340

### Пример задачи 2

*Примечание: вообще-то это пример задачи на перестановку*

У Пети есть 4 разноцветных кубика.
Петя строит башни высотой от 1 до 4 кубиков.
Сколько вариантов башен можно построить из этих 4 кубиков?

*Ответ*: 64

*Решение*:

Башня высотой 1 кубик: 4 варианта.

Башня высотой 2 кубика: 4 варианта, у второго - 3. Всего `4 * 3 = 12` вариантов.

Башня высотой 3 кубика: 4 варианта, 3 варианта, у третьего 2 варианта.  Всего `4 * 3 * 2 = 24` варианта.

Башня высотой 4 кубика: 4 варианта, 3 варианта, 2 варианта, у четвертого 1 вариант.  Всего `4 * 3 * 2 * 1 = 24` варианта.

Итого, всего вариантов `4 + 12 + 24 + 24 = 64`

* Если бы кубиков было **3**. Аналогично:

```text
3
3 * 2 = 6
3 * 2 * 1 = 6
Ответ: 3 + 6 + 6 = 15
```

* Если бы кубиков было **5**. Аналогично:

```text
5
5 * 4 = 20
5 * 4 * 3 = 60
5 * 4 * 3 * 2 = 120
5 * 4 * 3 * 2 * 1 = 120
Ответ: 5 + 20 + 60 + 120 + 120 = 325
```

### Перестановки. Задача

Есть 7 разных шариков. Сколькими способами можно их разместить?

*Ответ*: `n!`

*Решение*:

```text
1 позиция - 7 вариантов шариков
2 позиция - 6 вариантов шариков
...
6 позиция - 2 варианта шарика
5 позиция - 1 вариант
Ответ: 7 * 6 * 5 * 4 * 3 * 2 * 1 = 7! = 5040
```

### Перестановки. Количество размещений. Задача

Есть 7 разных шариков. Но 3 места. Сколькими способами можно их разместить?

**Формула**:
$$
A_n^k = \frac {n!}{(n-k)!}
$$

Или:

```text
n! / (n - k)!
```

*Решение*:

```text
1 позиция - 7 вариантов шариков
2 позиция - 6 вариантов шариков
3 позиция - 5 вариантов шариков
Ответ: 7 * 6 * 5 = 210
```

"Вывод формулы":

```text
7 * 6 * 5 = (7 * 6 * 5 * 4 * 3 * 2 * 1) / (4 * 3 * 2 * 1) = 7! / 4! = 7! / (7 - 3)! = n! / (n - k)!
```

`n! / (n-k)!` называется:

- *количество размещений из n по k*
- $A_n^k$. Читается как "А из эн по ка"
- $(n)_k$. Известен как "убывающий факториал"

### Перестановки. Количество сочетаний. Задача

Есть 7 разных шариков. Можно выбрать 3 любых шара. Сколькими способами можно их выбрать?

**Формула**:
$$
C_n^k = \frac {n!}{k! (n-k)!}
$$

Или:

```text
`n! / (k! * (n - k)!)`
```

*Решение*:

```text
Всего комбинаций выбора 3 шаров из 7 составляет 210 (из пред. задачи).
3 шара составляют 3! = 6 комбинаций
Значит, число выборов 3 шаров = 210 / 6 = 35
```

"Вывод формулы":

```text
35 = 210 / 6 = 7! / 4! / 3! = 7! / (4! * 3!) = n! / (k! * (n - k)!)
```

n! / (k! * (n - k)!) называется:

- *количество сочетаний из n по k*
- $C_n^k$. Читается как "Це из эн по ка"

### Бином Ньютона

Числа $C_n^k$ называют *биноминальными коэффициентами*, т.к. черех них
можно записать общий вид разложения **бинома Ньютона**:

$$
(a + b)^n = \sum_{k = 0}^{n} C_n^k a^{n-k} b^k
$$

Например:

$$
(a + b)^n = a^5 + 5a^4b + 10a^3b^2 + 10a^2b^3 + 5ab^4 +b^5
$$

При этом числа 1, 5, 10, 10, 5 и 1 представляют собой
$C_5^0$, $C_5^1$, $C_5^2$, $C_5^3$, $C_5^4$ и $C_5^5$.

### Сочетания. Вырожденные случаи

$$
C_n^0 = C_n^n = 1
$$

### Треугольник Паскаля

Графический метод вычисления чисел $C_n^k$

### Задача про партии в шахматах

7 шахматистов. Каждый с каждым сыграет по одной партии. Сколько всего будет сыграно партий?

*Ответ*: `7 * 6 / 2 = 21` партия

*Решение*:

```text
Каждый из 7 должен сыграть 6 партий.
В каждой партии учавствует по 2 человека.
Отсюда всего партий 7 * 6 / 2
```

## 1.3.2. Позиционные системы счисления

Система счисления определяет, *как будет записано число*, но **само число и его свойства никак от системы счисления не зависят**:
простое число всегда остается простым, четное - четным.

### Перевод числа по основанию `n` в десятичное. Пример

Семеричное число: `1532`

Его десятичное представление:

`1 * 7^3 + 5 * 7^2 + 3 * 7^1 + 2 = 611`

Или так:

```text
1532 (7) = ((1 * 7 + 5) * 7 + 3) * 7 + 2 = (12 * 7 + 3) * 7 + 2 = 87 * 7 + 2 = 609 + 2 = 611 (10)
```

### Перевод числа из десятичного в число по основанию `n`. Пример

Перевод в семеричное число:

611 / 7

```text
611 / 7 = 87, в остатке 2
87 / 7 = 12, в остатке 3
12 / 7 = 1 в остатке 5
1 / 7 = 0 в остатке 1
```

Семеричное число - это остатки: `1532`

### 8 и 16-ричные цифры

**Бит** - двоичная цифра.

**Байт** - 8 бит.

В шестадцатеричной нотации - 1 байт может ринимать значения от 0x00 до 0xFF (от 0 до 255).

Пример перевода из 2 в 10-ричную:

```text
1001101 = 64 + 8 + 4 + 1 = 77
```

И обратно:

```text
103 |
----|----
51  | 1         - 103 / 2 = 51, остаток 1
25  | 1         - 51 / 2 = 25, остаток 1
12  | 1         - 25 / 2 = 12, остаток 1
6   | 0         - 12 / 2 = 6, остаток 0
3   | 0         - 6 / 2 = 3, остаток 0
1   | 1         - 3 / 2 = 1, остаток 1
0   | 1         - 1 / 2 = 0, остаток 1
----|----
1100111
```

Двоичные числа при записи в 8-ричную систему группируются по 3 разряда.

Двоичные числа при записи в 16-ричную систему группируются по 4 разряда.

### Перевод дробей

1. Пример:

```text
101.01101 = 4 + 1 + 1/4 + 1/8 + 1/32 = 5.40625

или так:

101 = 5
01101 - 5 знаков после запятой это 32 части
01101 = (8 + 4 + 1) / 32 = 13/32
Ответ: 5 + 13/32 = 5.40625
```

2. Превратить десятичную дробь в простую

Формула:

$$
\frac {M}{10^k}
$$

* `M` - целое число из дробной части
* `k` - число разрядов в дробной части

Пример для 10-го числа:

```text
17.325
M = 325
k = 3
0.325 = 325/1000 = 13/40
17.325 = 17 + 13/40 = (17 * 40 + 13)/40 = 693/40
```

Пример для 2-го числа:

```text
10.1001
M = 1001
k = 4
10 + 1001/10000 = (100000 + 1001)/10000 = 101001/10000
```

3. Работа с бесконечными периодическими дробями

```text
Дано: 7.3327327327327... = 7.3(327)
Решение:
7.3 - отложим в сторону
0.0(327) - остается
k = 3 - длина периода
x = 0.0(327)

10^k * x = 1000 * x =  32.7(327)
Вычтем x из обеих частей равенства:
999 * x = 32.7
x = 32.7/999 = 327/9990

Ранее отложенная часть 7.3
7.3 = 73/10
Исходное число 73/10 + 327/9990 = (73 * 999 + 327)/9990 = 73254/9990 = 12209/1665
```

Аналогично для двоичного числа.

```text
0.01(0110)
0.01 отложим

x = 0.00(0110)
k = 4
10000 * x = 01.10(0110)
10000 * x - x = 1.10
1111 * x = 1.1
11110 * x = 11
x = 11/11110

Ранее отложенная часть 0.01
0.01 = 1/100
0.01(0110) = 1/100 + 11/11110 = (1111 + 110)/111100 = 10101/111100
```

## 1.3.3 Двоичная логика

Рассмотрим здесь **алегбру двоичной логики**.

Здесь используется множество, состоящее из `1` и `0`.

* **Отрицание** - унарная операция (всего один аргумент)
* **Или** - дизъюнкция
* **И** - конъюнкция
* **Исключающее или**
* **Импликация** - (`x -> y`)

x y | and | or  | xor | x -> y |
----|-----|-----|-----|--------|
0 0 |  0  |  0  |  0  |   1    |
0 1 |  0  |  1  |  1  |   1    |
1 0 |  0  |  1  |  1  |   0    |
1 1 |  1  |  1  |  0  |   1    |

Число всех возможных функций:

$$
2{^2}^n
$$

Т.е. для 2 чисел всего 2^4 = 16 возможных функций.

Для 3 = 2^8 = 256 возможных функций.

Для 4 = 2^16 = 65536 возможных функций.

Упоминается *закон де Моргана*.

## 1.3.4. Виды бесконечности
