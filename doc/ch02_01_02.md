# 2.1. Первые программы

`fpc` - компилятор Free Pascal

Hello world

[01_hello.pas](/src/ch02/01_hello.pas)

Вывод двух слов (строк)

[02_hello2.pas](/src/ch02/02_hello2.pas)

Вывод слов с переносом строки и нет

[03_nldemo.pas](/src/ch02/03_nldemo.pas)

# 2.2. Выражения, переменные и операторы

## 2.2.1. Арифметические операции и понятие типа

Примеры: умножение, сложение

[04_mult.pas](/src/ch02/04_mult.pas)

Примеры: деление

[05_div.pas](/src/ch02/05_div.pas)

`div` - деление с отбрасыванием остатка

`mod` - остаток от деления

## 2.2.2. Переменные, инициализация и присваивание

Идентификаторы в Pascal:

- регистронезависимы
- состоят из латинских букв, цифр, знаков подчеркивания
- идентификатор должен начинаться с буквы

Пример: присваивание переменной integer

[06_assignments.pas](/src/ch02/06_assignments.pas)

## 2.2.3. Идентификаторы и зарезервированные слова (не конспектировал)

## 2.2.4. Ввод информации для ее последующей обработки

Пример: использование `read` для чтения ввода и возведения его в квадрат

[07_square.pas](/src/ch02/07_square.pas)

Можно ввести число с клавиатуры, а можно прочиать из стандарного потока ввода (из файла):

```bash
echo 37 > 07_num.txt        // Создать файл 07_num.txt с числом 37
cat 07_num.txt              // Вывести на экран содержимое файла 07_num.txt
./07_square < 07_num.txt    // Запустить square, перенаправив ввод из 07_num.txt
// Вывод: 1369
```

Можно ввести число "напрямую", воспользовавшись *конвейером*:

```bash
echo 49 | ./07_square
// Вывод: 2401
```

Перенаправление вывода программы `square` в выходной файл `07_result.txt`

```bash
echo 51 | ./07_square > 07_result.txt
cat 07_result.txt
// Вывод: 2601
```

## 2.2.5. Берегись нехватки разрядности

Пример переполнения `integer`:

```bash
echo 200 | ./07_square
// Вывод: -25536
```

Почему -25536. Разрядность integer 16 бит = 2^16 = 65536.
200^2 = 40000 => 40000 - 65536 = -25536

В данном случае можно взять квадрат максимум для 181.

Пример: использование `longint` - 32 бита

[08_square2.pas](/src/ch02/08_square2.pas)

Теперь максимум 46340.

Поддержка еще больших чисел:

- `int64` - 64 битное число
- `qword` - беззнаковое 64-битное число

Еще пример: перевод десятичного числа в двоичную форму

[23_dec_to_bin.pas](/src/ch02/23_dec_to_bin.pas)

## 2.2.6. Простая последовательность операторов

Пример: простая последовательность с ожиданием нажатия `Enter`

[09_sequence.pas](/src/ch02/09_sequence.pas)

## 2.2.7. Конструкция ветвления

*Полное ветвление* - указывается один оператор для выполнения при истинном
условии, и другой - для выполнения, если условие окажется ложным.

*Неполное ветвление* - указывается оператор только для какого-то одного,
истинного или ложного условия.

Пример полного ветвления: вычисление модуля числа

[10_absval.pas](/src/ch02/10_absval.pas)

Синтаксис оператора `if` (квадратные скобки - необязательная часть)

```pas
if <условие> then <оператор1> [ else <оператор2> ]
```

Пример неполного ветвления: вычисление модуля числа

[11_modulo.pas](/src/ch02/11_modulo.pas)

## 2.2.8. Составной оператор

Пример: поменять переменные местами:

```pas
if a > b then
begin
    t := a;
    a := b;
    b := t
end
```

## 2.2.9. Логические выражения и логический тип

Логические ("булевские") выражения: `>`, `<`, `=`, `<>`, `>=`, `<=`

Пример: хранение результата сравнения числа в переменной

[12_modulo2.pas](/src/ch02/12_modulo2.pas)

Операции над логическими значениями:

- `not` - отрицание
- `and` - логическое "И" (конъюнкция)
- `or` - логическое "ИЛИ" (дизъюнкция)
- `xor` - "исключающее ИЛИ"

Примеры:

```pas
// инверсия
flag := not flag

// входит ли число в определенный диапазон
(k >= 0) and (k <= 9)

// яаляется ли символ латинской буквой
((c >= 'A') and (c <= 'Z')) or ((c >= 'a') and (c <= 'z'))
```

## 2.2.10. Понятие цикла; оператор `while`

`while` - цикл с предусловием.

```pas
while <условие> do <оператор>
```

Пример: печать сообщения 20 раз при помощи цикла `while`

[13_hello20.pas](/src/ch02/13_hello20.pas)

**Простое соглашение**: подготовка значений переменных для первой итерации
цикла должна происходить непостредственно перед циклом, а подготовка значений
для *следующей* итерации должна располагаться в самом конце тела цикла.

Пример: печать квадратов целых чисел от 1 до 100

[14_square100.pas](/src/ch02/14_square100.pas)

Пример: цикл с неизвестным количеством итераций. Проверка ввода года

[15_enterValidYear.pas](/src/ch02/15_enterValidYear.pas)

## 2.2.11. Цикл с постусловием; оператор `repeat`

Цикл с постусловием - выполняется тело цикла и только после этого проверяется,
следует ли выполнять ео снова.

```pas
repeat <операторы> until <условие>
```

Пример: цикл с неизвестным количеством итераций. Проверка ввода года
с использованием `repeat-until`

[16_enterValidYear2.pas](/src/ch02/16_enterValidYear2.pas)

Пример: ввод чисел с клавиатуры, пока их сумма не окажется больше 1000

[17_sumNumbers.pas](/src/ch02/17_sumNumbers.pas)

## 2.2.12. Арифметические циклы и оператор `for`

**Арифметическими** называются циклы, у которых на момент входа известно
сколько раз он будет повторяться и нужное количество итераций обеспечивается
путем их подсчета в целочисленной переменной.

```pas
for <переменная> := <начало> to | downto <конец> do <оператор>
```

**Важно**:

- Менять значение переменной цикла во время выполнения цикла `for` нельзя,
можно только читать.

- После завершения цикла `for` значение цикла считается неопределенным.

Пример: печать сообщения 20 раз при помощи цикла `for`

[18_hello20for.pas](/src/ch02/18_hello20for.pas)

Пример: печать квадратов целых чисел от 1 до 100 при помощи цикла `for`

[19_square100for.pas](/src/ch02/19_square100for.pas)

Пример: обратный отчет при помощи цикла `for` и `downto`

[20_countdown.pas](/src/ch02/20_countdown.pas)

## 2.2.13. Вложенные циклы

Пример: вложенные циклы `for` для рисования подобного:

```text
*
 *
  *
```

[21_starslash.pas](/src/ch02/21_starslash.pas)

Пример: печать фигуры "алмаз"

[22_diamond.pas](/src/ch02/22_diamond.pas)

## 2.2.14. Побитовые операции

Побитовые операции выполняются над целыми числами одинакового типа.
Числа рассматриваются как строки отдельных битов (т.е. двличных цифр).

Два вида побитовых операций:

- Логические
- Сдвиги

Примеры побитовых операций `not`, `and`, `or`, `xor`

[24_bitwise.pas](/src/ch02/24_bitwise.pas)2

Примеры операций сдвига

- `shl` - shift left, сдвиг влево
- `shr` - shift right, сдвиг вправо

[25_shift.pas](/src/ch02/25_shift.pas)

Еще есть встроенные функции Pascal для сдвига (в книге не описаны):

- `SarShortint`
- `SarSmallint`
- `SarLongint`
- `SarInt64`

## 2.2.15. Именованные константы

**Константа** - выражение, значение которого всегда одно и то же.

**Константа времени компиляции** - константы, значения которых определяются
во время компиляции.

**Константы времени исполнения** - константы, которые невозможно вычислить
во время компиляции и которые определяются во время работы программы.

**Именованная константа** - идентификатор для константы.

Пример: программа с константами, несколько раз печатающее сообщение

[26_message_n.pas](/src/ch02/26_message_n.pas)

**Всем числам и строкам в программе надо обязательно давать имена**.
Исключения могут быть для чисел:

- `-1` (иногда)
- `0`
- `1`

## 2.2.16. Разные способы записи чисел

